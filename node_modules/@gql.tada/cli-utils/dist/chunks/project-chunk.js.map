{"version":3,"file":"project-chunk.js","sources":["../../src/ts/project.ts"],"sourcesContent":["import type { GraphQLSPConfig } from '@gql.tada/internal';\nimport type { Project } from 'ts-morph';\n\nexport const createPluginInfo = (\n  project: Project,\n  config: GraphQLSPConfig,\n  projectName: string\n): any => {\n  const languageService = project.getLanguageService();\n  return {\n    config,\n    languageService: {\n      getReferencesAtPosition: (filename, position) => {\n        return languageService.compilerObject.getReferencesAtPosition(filename, position);\n      },\n      getDefinitionAtPosition: (filename, position) => {\n        return languageService.compilerObject.getDefinitionAtPosition(filename, position);\n      },\n      getProgram: () => {\n        const program = project.getProgram();\n        return {\n          ...program,\n          getTypeChecker: () => project.getTypeChecker(),\n          getSourceFile: (s) => {\n            const source = project.getSourceFile(s);\n            return source && source.compilerNode;\n          },\n        };\n      },\n      // This prevents us from exposing normal diagnostics\n      getSemanticDiagnostics: () => [],\n    } as any,\n    languageServiceHost: {} as any,\n    project: {\n      getProjectName: () => projectName,\n      projectService: {\n        logger: console,\n      },\n    } as any,\n    serverHost: {} as any,\n  };\n};\n"],"names":["createPluginInfo","project","config","projectName","languageService","getLanguageService","getReferencesAtPosition","filename","position","compilerObject","getDefinitionAtPosition","getProgram","getTypeChecker","getSourceFile","s","source","compilerNode","getSemanticDiagnostics","languageServiceHost","getProjectName","projectService","logger","console","serverHost"],"mappings":"2BAGgCA,CAC9BC,GACAC,GACAC;EAEA,IAAMC,IAAkBH,EAAQI;EAChC,OAAO;IACLH;IACAE,iBAAiB;MACfE,yBAAyBA,CAACC,GAAUC,MAC3BJ,EAAgBK,eAAeH,wBAAwBC,GAAUC;MAE1EE,yBAAyBA,CAACH,GAAUC,MAC3BJ,EAAgBK,eAAeC,wBAAwBH,GAAUC;MAE1EG,YAAYA,OAEH;WADSV,EAAQU;QAGtBC,gBAAgBA,MAAMX,EAAQW;QAC9BC,eAAgBC;UACd,IAAMC,IAASd,EAAQY,cAAcC;UACrC,OAAOC,KAAUA,EAAOC;AAAY;;MAK1CC,wBAAwBA,MAAM;;IAEhCC,qBAAqB,CAAS;IAC9BjB,SAAS;MACPkB,gBAAgBA,MAAMhB;MACtBiB,gBAAgB;QACdC,QAAQC;;;IAGZC,YAAY,CAAC;;AACd"}