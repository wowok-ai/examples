Object.defineProperty(exports,"__esModule",{value:!0});var e=require("graphql"),a=!1,n=!1,t=!1,r=!1,s={kind:"SCALAR",name:"Any"},i=e=>{switch(e.kind){case"NON_NULL":case"LIST":return{kind:e.kind,ofType:i(e.ofType)};case"SCALAR":return a?e:(r=!0,s);case"INPUT_OBJECT":return t?e:(r=!0,s);case"ENUM":return n?e:(r=!0,s);case"OBJECT":case"INTERFACE":case"UNION":return e;default:throw new TypeError(`Unrecognized type reference of type: ${e.kind}.`)}},p=e=>{switch(e.kind){case"SCALAR":return{kind:"SCALAR",name:e.name};case"ENUM":return{kind:"ENUM",name:e.name,enumValues:e.enumValues.map((e=>({name:e.name})))};case"INPUT_OBJECT":return{kind:"INPUT_OBJECT",name:e.name,inputFields:e.inputFields.map((e=>({name:e.name,type:i(e.type),defaultValue:e.defaultValue||void 0})))};case"OBJECT":return{kind:"OBJECT",name:e.name,fields:e.fields.map((e=>({name:e.name,type:e.type&&i(e.type),args:e.args&&e.args.map((e=>({name:e.name,type:i(e.type)})))}))),interfaces:e.interfaces&&e.interfaces.map((e=>({kind:"INTERFACE",name:e.name})))};case"INTERFACE":return{kind:"INTERFACE",name:e.name,fields:e.fields.map((e=>({name:e.name,type:e.type&&i(e.type),args:e.args&&e.args.map((e=>({name:e.name,type:i(e.type)})))}))),interfaces:e.interfaces&&e.interfaces.map((e=>({kind:"INTERFACE",name:e.name}))),possibleTypes:e.possibleTypes&&e.possibleTypes.map((e=>({kind:e.kind,name:e.name})))};case"UNION":return{kind:"UNION",name:e.name,possibleTypes:e.possibleTypes.map((e=>({kind:e.kind,name:e.name})))};default:return e}};exports.getIntrospectedSchema=a=>{if("string"==typeof a)try{a=JSON.parse(a)}catch(n){a=e.buildSchema(a)}if("object"==typeof a&&"__schema"in a)return a;var n=e.execute({document:e.parse(e.getIntrospectionQuery({descriptions:!1})),schema:a});if(!n.data||!n.data.__schema)throw new TypeError("GraphQL could not generate an IntrospectionQuery from the given schema.");return n.data},exports.minifyIntrospectionQuery=(e,c={})=>{if(!e||!("__schema"in e))throw new TypeError("Expected to receive an IntrospectionQuery.");r=!1,a=!!c.includeScalars,n=!!c.includeEnums,t=!!c.includeInputs;var{__schema:{queryType:m,mutationType:u,subscriptionType:d,types:o,directives:y}}=e,l=o.filter((e=>{switch(e.name){case"__Directive":case"__DirectiveLocation":case"__EnumValue":case"__InputValue":case"__Field":case"__Type":case"__TypeKind":case"__Schema":return!1;default:return a&&"SCALAR"===e.kind||n&&"ENUM"===e.kind||t&&"INPUT_OBJECT"===e.kind||"OBJECT"===e.kind||"INTERFACE"===e.kind||"UNION"===e.kind}})).map(p);r&&l.push({kind:"SCALAR",name:s.name});var T=[];return c.includeDirectives&&(T=(y||[]).map((e=>({name:e.name,isRepeatable:!!e.isRepeatable||void 0,locations:e.locations,args:e.args.map((e=>({name:e.name,type:i(e.type),defaultValue:e.defaultValue||void 0})))})))),{__schema:{queryType:m,mutationType:u,subscriptionType:d,types:l,directives:T}}};
//# sourceMappingURL=urql-introspection.min.js.map
